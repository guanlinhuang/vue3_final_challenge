{"version":3,"file":"js/903.d5e70abd.js","mappings":"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","sources":["webpack://vue3_final_challenge/./src/methods/saveFavorite.js","webpack://vue3_final_challenge/./src/views/user/UserProductDetail.vue","webpack://vue3_final_challenge/./src/views/user/UserProductDetail.vue?e184"],"sourcesContent":["export default {\n  saveFavorite(favorite) {\n    const favoriteStr = JSON.stringify(favorite);\n    localStorage.setItem(\"favoriteProduct\", favoriteStr);\n  },\n  getFavorite() {\n    return JSON.parse(localStorage.getItem(\"favoriteProduct\"));\n  },\n};\n","<template>\n  <Loading :active=\"isLoading\"\n    ><section><span class=\"loader-18\"></span></section\n  ></Loading>\n  <div class=\"container py-lg-5 UserProductDetail\">\n    <div class=\"row d-flex justify-content-lg-center\">\n      <div class=\"col-lg-5 col-xl-4 me-5 mt-0 mt-sm-2\">\n        <nav aria-label=\"breadcrumb\" class=\"d-none d-lg-block\">\n          <ol class=\"breadcrumb\">\n            <li class=\"breadcrumb-item\">\n              <router-link\n                to=\"/productsall\"\n                class=\"text-decoration-none text-dark productsall\"\n                >所有商品</router-link\n              >\n            </li>\n            <li class=\"breadcrumb-item active text-dark\" aria-current=\"page\">\n              {{ product.title }}\n            </li>\n          </ol>\n        </nav>\n        <div class=\"product_img mb-3 rounded-0\">\n          <img\n            :src=\"selectedImageUrl || product.imageUrl\"\n            :alt=\"product.title\"\n            class=\"object-fit-cover\"\n          />\n        </div>\n        <div>\n          <Swiper\n            class=\"product-swiper mx-0 px-0\"\n            :modules=\"modules\"\n            :loop=\"false\"\n            :spaceBetween=\"3\"\n            :slidesPerView=\"3\"\n            :breakpoints=\"{\n              992: { slidesPerView: 3, spaceBetween: 5 },\n            }\"\n          >\n            <SwiperSlide v-for=\"(item, key) in product.imagesUrl\" :key=\"key\">\n              <a @click=\"changeImage(item)\">\n                <div class=\"swiper_img rounded-0\" style=\"height: 160px\">\n                  <img\n                    :src=\"item\"\n                    :alt=\"product.title\"\n                    class=\"object-fit-cover\"\n                  />\n                </div>\n              </a>\n            </SwiperSlide>\n          </Swiper>\n        </div>\n      </div>\n      <div class=\"col-lg-4 mt-3 mt-lg-5 px-4 px-lg-0\">\n        <h2>{{ product.title }}</h2>\n        <div class=\"mb-3\">{{ product.description }}</div>\n        <div v-if=\"product.origin_price !== product.price\">\n          <p class=\"product_origin_price text-decoration-line-through mb-1\">\n            原價 NT$ {{ product.origin_price }}\n          </p>\n        </div>\n        <div v-if=\"product.origin_price !== product.price\">\n          <p class=\"mb-1 text-danger h5\">特價 NT$ {{ product.price }}</p>\n        </div>\n        <div v-if=\"product.origin_price === product.price\">\n          <p class=\"h5 mb-1\">原價 NT$ {{ product.price }}</p>\n        </div>\n\n        <hr class=\"w-auto\" />\n        <div>{{ product.content }}</div>\n        <div class=\"d-flex\">\n          <div class=\"input-group my-3\">\n            <button\n              class=\"btn border-0\"\n              type=\"button\"\n              @click=\"changeQty(-1)\"\n              :disabled=\"productsQty === 1\"\n            >\n              <i class=\"bi bi-dash-lg\"></i>\n            </button>\n            <input\n              type=\"number\"\n              class=\"form-control text-center\"\n              v-model=\"productsQty\"\n              min=\"1\"\n              readonly\n            />\n            <button class=\"btn border-0\" type=\"button\" @click=\"changeQty(1)\">\n              <i class=\"bi bi-plus-lg\"></i>\n            </button>\n          </div>\n          <div class=\"my-auto\">\n            <button\n              type=\"button\"\n              @click.stop=\"toggleFavorite(product)\"\n              class=\"btn btn-favorite colorHeart fs-3\"\n            >\n              <i\n                class=\"bi\"\n                :class=\"\n                  favorite.includes(product.id) ? 'bi-heart-fill' : 'bi-heart'\n                \"\n                style=\"color: #8fc0a9\"\n              ></i>\n            </button>\n          </div>\n        </div>\n        <div class=\"row gx-lg-0 mx-0\">\n          <button\n            type=\"button\"\n            class=\"btnHover col me-1 me-lg-3\"\n            @click=\"nowBuy(product.id)\"\n          >\n            <div>\n              <span>立即購買</span>\n              <span>立即購買</span>\n            </div>\n          </button>\n          <button\n            type=\"button\"\n            class=\"btnHover btnHover5 col ms-1 ms-lg-0 me-lg-1\"\n            @click=\"addToCart(product.id)\"\n          >\n            <div>\n              <span>加到購物車</span>\n              <span>加到購物車</span>\n            </div>\n          </button>\n        </div>\n      </div>\n    </div>\n    <div class=\"my-5\">\n      <h4 class=\"py-lg-3 fw-normal ms-3 ms-lg-0\">看更多商品</h4>\n      <Swiper\n        class=\"product-swiper\"\n        :navigation=\"{\n          nextEl: '.swiper-button-next',\n          prevEl: '.swiper-button-prev',\n        }\"\n        :modules=\"modules\"\n        :loop=\"false\"\n        :spaceBetween=\"3\"\n        :slidesPerView=\"3\"\n        :breakpoints=\"{\n          992: { slidesPerView: 6, spaceBetween: 30 },\n        }\"\n      >\n        <SwiperSlide v-for=\"item in products\" :key=\"item.id\">\n          <div class=\"position-relative text-center product h-100\">\n            <a @click=\"getProductPage(item.id, item)\">\n              <div class=\"swiper_img\">\n                <img\n                  :src=\"`${item.imageUrl}`\"\n                  :alt=\"item.title\"\n                  class=\"object-fit-cover\"\n                />\n              </div>\n            </a>\n          </div>\n        </SwiperSlide>\n        <button class=\"swiper-button-next btn btn-light\"></button>\n        <button class=\"swiper-button-prev btn btn-light\"></button>\n      </Swiper>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Swiper, SwiperSlide } from \"swiper/vue\";\nimport { Navigation, Pagination, Autoplay } from \"swiper/modules\";\nimport \"swiper/css\";\nimport \"swiper/css/pagination\";\nimport \"swiper/css/navigation\";\nimport saveFavorite from \"@/methods/saveFavorite\";\nexport default {\n  data() {\n    return {\n      product: {},\n      id: \"\",\n      carts: [],\n      productsQty: 1,\n      products: [],\n      favorite: saveFavorite.getFavorite() || [],\n      favoriteProduct: [],\n      modules: [Autoplay, Pagination, Navigation],\n      selectedImageUrl: \"\", // 用來存儲被選中的大圖 URL\n    };\n  },\n  inject: [\"emitter\"],\n  components: {\n    Swiper,\n    SwiperSlide,\n  },\n  methods: {\n    getProduct() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.isLoading = true;\n      this.$http\n        .get(api)\n        .then((response) => {\n          this.isLoading = false;\n          if (response.data.success) {\n            this.product = response.data.product;\n            this.product.imagesUrl.push(response.data.product.imageUrl);\n          }\n        })\n        .catch((error) => {\n          this.$httpMessageState(error, \"連線錯誤\");\n        });\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http\n        .get(url)\n        .then((response) => {\n          this.carts = response.data.data.carts;\n          this.emitter.emit(\"update-cart\", this.carts);\n        })\n        .catch((error) => {\n          this.$httpMessageState(error, \"連線錯誤\");\n        });\n    },\n    nowBuy(id, qty = this.productsQty) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: id,\n        qty,\n      };\n      this.isLoading = true;\n      this.$http\n        .post(url, { data: cart })\n        .then((response) => {\n          this.isLoading = false;\n          this.$httpMessageState(response, \"加入購物車\");\n          this.getCart();\n          this.$router.push(\"/cart\");\n        })\n        .catch((error) => {\n          this.$httpMessageState(error, \"連線錯誤\");\n        });\n    },\n    addToCart(id, qty = this.productsQty) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: id,\n        qty,\n      };\n      this.isLoading = true;\n      this.$http\n        .post(url, { data: cart })\n        .then((response) => {\n          this.isLoading = false;\n          this.$httpMessageState(response, \"加入購物車\");\n          this.getCart();\n        })\n        .catch((error) => {\n          this.$httpMessageState(error, \"連線錯誤\");\n        });\n    },\n    updateCart(item) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\n      const cart = {\n        product_id: item.product_id,\n        qty: item.qty,\n      };\n      this.$http\n        .put(url, { data: cart })\n        .then((res) => {\n          this.getCart();\n        })\n        .catch((error) => {\n          this.$httpMessageState(error, \"連線錯誤\");\n        });\n    },\n    changeQty(number) {\n      this.productsQty += number;\n    },\n    getProductPage(id, item) {\n      this.selectedImageUrl = item.imageUrl;\n      this.$router.push(`/products/${id}`);\n      this.id = id;\n      this.getProduct();\n      this.getProducts();\n    },\n    getProducts() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.products = res.data.products\n              .filter((e) => e.id !== this.id)\n              .sort(() => Math.random() - 0.5);\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          this.$httpMessageState(err, \"連線錯誤，請再試一次\");\n          this.isLoading = false;\n        });\n    },\n    getFavoriteProduct() {\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\n        )\n        .then((response) => {\n          this.favoriteProduct = response.data.products.filter((product) =>\n            this.favorite.includes(product.id)\n          );\n          this.emitter.emit(\"update-favorite\", this.favoriteProduct);\n        })\n        .catch((error) => {\n          this.$httpMessageState(error, \"連線錯誤\");\n        });\n    },\n    toggleFavorite(product) {\n      if (this.favorite.includes(product.id)) {\n        this.favorite.splice(this.favorite.indexOf(product.id), 1);\n        this.$httpMessageState(\n          {\n            data: {\n              success: true,\n            },\n          },\n          \"移除收藏\"\n        );\n      } else {\n        this.favorite.push(product.id);\n        this.$httpMessageState(\n          {\n            data: {\n              success: true,\n            },\n          },\n          \"加入收藏\"\n        );\n      }\n      saveFavorite.saveFavorite(this.favorite);\n      this.getFavoriteProduct();\n    },\n    changeImage(imageUrl) {\n      this.selectedImageUrl = imageUrl;\n    },\n  },\n  created() {\n    this.id = this.$route.params.productId;\n    this.getProduct();\n    this.getCart();\n    this.getProducts();\n  },\n};\n</script>\n\n<!-- products[0].imageUrl\" 默認顯示第一個產品的圖像 -->\n","import { render } from \"./UserProductDetail.vue?vue&type=template&id=d29eb0f4\"\nimport script from \"./UserProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./UserProductDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["saveFavorite","favorite","favoriteStr","JSON","stringify","localStorage","setItem","getFavorite","parse","getItem","class","style","key","_createElementBlock","_Fragment","_createVNode","_component_Loading","active","_ctx","isLoading","default","_withCtx","_cache","_createElementVNode","_","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_router_link","to","_createTextVNode","_hoisted_7","_toDisplayString","$data","product","title","_hoisted_8","src","selectedImageUrl","imageUrl","alt","_hoisted_9","_component_Swiper","modules","loop","spaceBetween","slidesPerView","breakpoints","_renderList","imagesUrl","item","_createBlock","_component_SwiperSlide","onClick","$event","$options","changeImage","_hoisted_11","_hoisted_12","_hoisted_10","_hoisted_13","_hoisted_14","description","origin_price","price","_hoisted_15","_hoisted_16","_createCommentVNode","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","content","_hoisted_21","_hoisted_22","type","changeQty","disabled","productsQty","_hoisted_23","min","readonly","_hoisted_24","_withModifiers","toggleFavorite","_normalizeClass","includes","id","_hoisted_25","nowBuy","addToCart","_hoisted_26","navigation","products","_hoisted_27","getProductPage","_hoisted_29","_hoisted_30","_hoisted_28","data","carts","favoriteProduct","Autoplay","Pagination","Navigation","inject","components","Swiper","SwiperSlide","methods","getProduct","api","this","$http","get","then","response","success","push","catch","error","$httpMessageState","getCart","url","emitter","emit","qty","cart","product_id","post","$router","updateCart","put","res","number","getProducts","filter","e","sort","Math","random","err","getFavoriteProduct","splice","indexOf","created","$route","params","productId","__exports__","render"],"sourceRoot":""}