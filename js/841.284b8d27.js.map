{"version":3,"file":"js/841.284b8d27.js","mappings":"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","sources":["webpack://vue3_final_challenge/./src/views/user/UserOrderSearch.vue","webpack://vue3_final_challenge/./src/views/user/UserOrderSearch.vue?fb47"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\"\n    ><section><span class=\"loader-18\"></span></section\n  ></Loading>\n  <div class=\"order_search\">\n    <div\n      class=\"container mainContainer\"\n      style=\"padding-top: 100px; padding-bottom: 100px\"\n    >\n      <h3 class=\"text-center\">訂單查詢</h3>\n      <div class=\"py-4 py-lg-5\">\n        <Form @submit=\"searchOrder\">\n          <div class=\"row row-cols-1 justify-content-center align-items-center\">\n            <div class=\"col-10 col-lg-3 px-0 mb-3 mb-lg-0\">\n              <Field\n                id=\"orderId\"\n                class=\"form-control w-100\"\n                name=\"search\"\n                type=\"text\"\n                placeholder=\"請輸入Email or 電話\"\n                v-model=\"search\"\n              ></Field>\n            </div>\n            <div class=\"col col-lg-2 px-0 d-flex justify-content-center\">\n              <button class=\"btnHover ms-3\" @click=\"push\">\n                <div>\n                  <span>查詢</span>\n                  <span>查詢</span>\n                </div>\n              </button>\n            </div>\n          </div>\n        </Form>\n        <div\n          v-if=\"searchState && filterOrder.length === 0\"\n          class=\"text-center my-5\"\n        >\n          <div>\n            <p>查無資料，請重新查詢。</p>\n          </div>\n        </div>\n        <div v-else-if=\"searchState && filterOrder.length !== 0\" class=\"my-5\">\n          <div class=\"d-none d-lg-block\">\n            <table class=\"table my-3 table-hover\">\n              <thead>\n                <tr>\n                  <th>建立日期</th>\n                  <th>訂單編號</th>\n                  <th>商品明細</th>\n                  <th>總金額</th>\n                  <th>付款狀態</th>\n                  <th></th>\n                </tr>\n              </thead>\n              <tbody\n                v-for=\"item in filterOrder\"\n                :key=\"item.id\"\n                class=\"searchTbody\"\n              >\n                <tr class=\"align-middle\">\n                  <td class=\"fw-bolder\">\n                    {{ $filters.date(item.create_at) }}\n                  </td>\n                  <td>{{ item.id }}</td>\n                  <td>\n                    <ul class=\"list-unstyled\">\n                      <li v-for=\"product in item.products\" :key=\"product.id\">\n                        - {{ product.product.title }} - {{ product.qty }}\n                        {{ product.product.unit }}\n                      </li>\n                    </ul>\n                  </td>\n                  <td>${{ $filters.currency(Math.round(item.total)) }}</td>\n                  <td>\n                    <span v-if=\"!item.is_paid\" class=\"text-danger\"\n                      >尚未付款</span\n                    >\n                    <span v-else class=\"text-success\">付款完成</span>\n                  </td>\n                  <td>\n                    <button\n                      v-if=\"item.is_paid\"\n                      class=\"btn btn-outline-success btn-sm\"\n                      @click.prevent=\"payOrder(item.id)\"\n                    >\n                      檢視\n                    </button>\n                    <button\n                      v-else\n                      class=\"btn btn-outline-danger btn-sm\"\n                      type=\"button\"\n                      @click.prevent=\"payOrder(item.id)\"\n                    >\n                      檢視、付款\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div class=\"d-lg-none\">\n            <div\n              class=\"mx-2 my-3 px-2 border rounded-3\"\n              v-for=\"item in filterOrder\"\n              :key=\"item.id\"\n            >\n              <div class=\"row mt-3\">\n                <div class=\"col-4\">\n                  <h6 class=\"mb-0\">建立日期</h6>\n                  <p class=\"mb-0\">{{ $filters.date(item.create_at) }}</p>\n                </div>\n                <div class=\"col-8\">\n                  <h6 class=\"mb-0\">訂單編號</h6>\n                  <p class=\"mb-0\">{{ item.id }}</p>\n                </div>\n              </div>\n              <div class=\"py-3 border-top border-bottom mt-3\">\n                <h6 class=\"mb-0\">商品明細</h6>\n                <ul class=\"list-unstyled mb-0\">\n                  <li v-for=\"product in item.products\" :key=\"product.id\">\n                    - {{ product.product.title }} - {{ product.qty }}\n                    {{ product.product.unit }}\n                  </li>\n                </ul>\n              </div>\n              <div class=\"row mt-3 mb-3\">\n                <div class=\"col-5 d-flex align-items-center\">\n                  <h6 class=\"mb-0\">總金額</h6>\n                  <p class=\"mb-0 ms-3\">\n                    ${{ $filters.currency(Math.round(item.total)) }}\n                  </p>\n                </div>\n                <div\n                  class=\"col-7 d-flex justify-content-end align-items-center\"\n                >\n                  <p v-if=\"!item.is_paid\" class=\"text-danger me-3 mb-0\">\n                    尚未付款\n                  </p>\n                  <p v-else class=\"text-success me-3 mb-0\">付款完成</p>\n                  <button\n                    v-if=\"item.is_paid\"\n                    class=\"btn btn-outline-success btn-sm\"\n                    @click.prevent=\"payOrder(item.id)\"\n                  >\n                    檢視\n                  </button>\n                  <button\n                    v-else\n                    class=\"btn btn-outline-danger btn-sm\"\n                    type=\"button\"\n                    @click.prevent=\"payOrder(item.id)\"\n                  >\n                    檢視、付款\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      OrderList: [],\n      pagination: {},\n      search: \"\",\n      filterOrder: {},\n      searchState: false,\n      isLoading: false,\n      email: \"\",\n      carts: [],\n    };\n  },\n  methods: {\n    getOrder(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/orders?page=${page}`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.OrderList = res.data.orders;\n            this.pagination = res.data.pagination;\n          }\n        })\n        .catch((error) => {\n          this.$httpMessageState(error, \"連線錯誤\");\n        });\n    },\n    searchOrder() {\n      this.isLoading = true;\n      this.searchState = true;\n      this.filterOrder = this.OrderList.filter(\n        (item) =>\n          item.user.email === this.search || item.user.tel === this.search\n      );\n      this.isLoading = false;\n      this.email = this.searchEmail;\n      this.getOrder();\n    },\n    payOrder(id) {\n      window.open(\n        this.$router.resolve({\n          path: `/pay/${id}`,\n        }).href,\n        \"_blank\"\n      );\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http\n        .get(url)\n        .then((response) => {\n          this.carts = response.data.data.carts;\n        })\n        .catch((error) => {\n          this.$httpMessageState(error, \"連線錯誤\");\n        });\n    },\n  },\n  created() {\n    this.getOrder();\n  },\n};\n</script>\n","import { render } from \"./UserOrderSearch.vue?vue&type=template&id=6e4d0403\"\nimport script from \"./UserOrderSearch.vue?vue&type=script&lang=js\"\nexport * from \"./UserOrderSearch.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","key","_createElementBlock","_Fragment","_createVNode","_component_Loading","active","$data","isLoading","default","_withCtx","_cache","_createElementVNode","_","_hoisted_1","_hoisted_2","_hoisted_3","_component_Form","onSubmit","$options","searchOrder","_hoisted_4","_hoisted_5","_component_Field","id","name","type","placeholder","modelValue","search","$event","_hoisted_6","onClick","args","_ctx","push","searchState","filterOrder","length","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_renderList","item","_hoisted_11","_hoisted_12","_toDisplayString","$filters","date","create_at","_hoisted_13","products","product","title","qty","unit","currency","Math","round","total","is_paid","_hoisted_15","_hoisted_14","_withModifiers","payOrder","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_31","_hoisted_30","_hoisted_32","_hoisted_33","_createCommentVNode","data","OrderList","pagination","email","carts","methods","getOrder","page","api","this","$http","get","then","res","success","orders","catch","error","$httpMessageState","filter","user","tel","searchEmail","window","open","$router","resolve","path","href","getCart","url","response","created","__exports__","render"],"sourceRoot":""}