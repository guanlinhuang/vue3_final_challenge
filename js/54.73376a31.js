"use strict";(self["webpackChunkvue3_final_challenge"]=self["webpackChunkvue3_final_challenge"]||[]).push([[54],{8054:function(e,s,a){a.r(s),a.d(s,{default:function(){return k}});var t=a(6768),l=a(4232);const o={class:"backstage_bg"},n={class:"container pt-5 vh-100"},r={class:"col-md-4"},i={class:"mb-3 mx-4 mx-sm-0"},d={class:"mb-3 mx-4 mx-sm-0"};function u(e,s,a,u,c,m){const p=(0,t.g2)("Field"),h=(0,t.g2)("ErrorMessage"),b=(0,t.g2)("Form"),k=(0,t.g2)("ToastMessages");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.Lk)("div",n,[(0,t.bF)(b,{class:"row justify-content-center",onSubmit:m.signIn},{default:(0,t.k6)((({errors:e})=>[(0,t.Lk)("div",r,[s[4]||(s[4]=(0,t.Lk)("h1",{class:"text-center my-5"},"管理員後台",-1)),(0,t.Lk)("div",i,[s[2]||(s[2]=(0,t.Lk)("label",{for:"email",class:"form-label"},"Email: ",-1)),(0,t.bF)(p,{id:"email",name:"email",type:"email",class:(0,l.C4)(["form-control",{"is-invalid":e["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:c.user.username,"onUpdate:modelValue":s[0]||(s[0]=e=>c.user.username=e)},null,8,["class","modelValue"]),(0,t.bF)(h,{name:"email",class:"invalid-feedback"})]),(0,t.Lk)("div",d,[s[3]||(s[3]=(0,t.Lk)("label",{for:"password",class:"form-label"},"Password: ",-1)),(0,t.bF)(p,{id:"password",name:"password",type:"password",class:(0,l.C4)(["form-control",{"is-invalid":e["password"]}]),placeholder:"請輸入 Password",rules:"required",modelValue:c.user.password,"onUpdate:modelValue":s[1]||(s[1]=e=>c.user.password=e)},null,8,["class","modelValue"]),(0,t.bF)(h,{name:"password",class:"invalid-feedback"})]),s[5]||(s[5]=(0,t.Lk)("div",{class:"text-center mt-4"},[(0,t.Lk)("button",{class:"btnHover btnHover6 btn btn-outline-dark",type:"submit"},[(0,t.Lk)("div",null,[(0,t.Lk)("span",null,"登入 "),(0,t.Lk)("span",null,"登入")])])],-1))])])),_:1},8,["onSubmit"])]),(0,t.bF)(k)])}a(4114);var c=a(2482),m=a(7901),p={data(){return{user:{username:"",password:""}}},components:{ToastMessages:m.A},provide(){return{emitter:c.A}},methods:{signIn(){const e="https://vue3-course-api.hexschool.io/admin/signin";this.$http.post(e,this.user).then((e=>{if(e.data.success){const{token:s,expired:a}=e.data;document.cookie=`hexToken=${s};expires=${new Date(a)}`,this.$http.defaults.headers.common.Authorization=s,this.$httpMessageState(e,"登入"),this.$router.push("/dashboard/products"),document.body.style.overflow="",document.body.style.position=""}else this.$httpMessageState(e,"登入")})).catch((e=>{this.$httpMessageState(e,"連線錯誤")}))}}},h=a(1241);const b=(0,h.A)(p,[["render",u]]);var k=b}}]);
//# sourceMappingURL=54.73376a31.js.map