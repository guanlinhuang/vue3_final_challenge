"use strict";(self["webpackChunkvue3_final_challenge"]=self["webpackChunkvue3_final_challenge"]||[]).push([[848],{2848:function(s,l,t){t.r(l),t.d(l,{default:function(){return q}});var e=t(6768),c=t(5130),a=t(4232);const i={class:"container mainContainer userPay"},r={key:0,class:"row justify-content-center pt-3"},d={key:1,class:"row justify-content-center pt-3"},o={class:"mt-4 mt-lg-5 row justify-content-center"},n={class:"col col-lg-7"},p={class:"table"},v={key:0},u={key:1},k={key:0,class:"text-danger"},h={key:1,class:"text-success"},b={key:0,class:"row gx-2"},L={class:"col-4"},x={class:"mt-2 mb-5 row justify-content-center gx-0 m-1"},m={class:"col col-lg-7"},g={class:"accordion",id:"accordionPanelsStayOpenExample"},y={class:"accordion-item"},w={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingOne"},_={class:"accordion-body"},f={class:"table align-middle"},O={style:{width:"70px"}},C={style:{width:"70px",height:"100px"}},$=["src","alt"],E={class:"align-top"},X=["onClick"],S={class:"text-center"},j={class:"text-center"},I={class:"text-center"},P={colspan:"4",class:"text-end"},F={class:"mb-0 text-end",style:{"padding-right":"10px"}},H={class:"fs-3 text-success"};function T(s,l,t,T,M,W){const N=(0,e.g2)("router-link");return(0,e.uX)(),(0,e.CE)("div",i,[M.order.is_paid?((0,e.uX)(),(0,e.CE)("div",d,[l[3]||(l[3]=(0,e.Fv)('<div class="process d-flex justify-content-center align-items-center"><div class="text-center mx-3"><i class="bi bi-cart-check fs-3"></i><div class="row row-cols-1 row-cols-lg-2"><div class="col px-0"><p class="mb-0">商品</p></div><div class="col px-0"><p class="mb-0">確認</p></div></div></div><span class="process_dark_line"></span><div class="process_dark text-center mx-3"><i class="bi bi-pen fs-3"></i><div class="row row-cols-1 row-cols-lg-2"><div class="col px-0"><p class="mb-0">資料</p></div><div class="col px-0"><p class="mb-0">填寫</p></div></div></div><div class="process_dark_line"></div><div class="process_dark text-center mx-3"><i class="bi bi-cash-coin fs-3"></i><div class="row row-cols-1 row-cols-lg-2"><div class="col px-0"><p class="mb-0">資料</p></div><div class="col px-0"><p class="mb-0">確認</p></div></div></div><div class="process_dark_line"></div><div class="process_dark text-center mx-3"><i class="bi bi-cart-check-fill fs-3"></i><div class="row row-cols-1 row-cols-lg-2"><div class="col px-0"><p class="mb-0">訂單</p></div><div class="col px-0"><p class="mb-0">完成</p></div></div></div></div><h5 class="text-center mt-5 text-success">付款完成，感謝您的訂購</h5>',2)),(0,e.bF)(N,{to:"/productsall",type:"button",class:"btnHover btn-lg rounded-0 mt-2 d-block w-25 mx-auto"},{default:(0,e.k6)((()=>l[2]||(l[2]=[(0,e.Lk)("div",null,[(0,e.Lk)("span",null,[(0,e.eW)("繼續逛逛 "),(0,e.Lk)("i",{class:"bi bi-arrow-right"})]),(0,e.Lk)("span",null,[(0,e.eW)("繼續逛逛 "),(0,e.Lk)("i",{class:"bi bi-arrow-right"})])],-1)]))),_:1})])):((0,e.uX)(),(0,e.CE)("div",r,l[1]||(l[1]=[(0,e.Fv)('<div class="process d-flex justify-content-center align-items-center"><div class="text-center mx-3"><i class="bi bi-cart-check fs-3"></i><div class="row row-cols-1 row-cols-lg-2"><div class="col px-0"><p class="mb-0">商品</p></div><div class="col px-0"><p class="mb-0">確認</p></div></div></div><span class="process_dark_line"></span><div class="process_dark text-center mx-3"><i class="bi bi-pen fs-3"></i><div class="row row-cols-1 row-cols-lg-2"><div class="col px-0"><p class="mb-0">資料</p></div><div class="col px-0"><p class="mb-0">填寫</p></div></div></div><div class="process_dark_line"></div><div class="process_dark text-center mx-3"><i class="bi bi-cash-coin fs-3"></i><div class="row row-cols-1 row-cols-lg-2"><div class="col px-0"><p class="mb-0">資料</p></div><div class="col px-0"><p class="mb-0">確認</p></div></div></div><div class="process_gray_line"></div><div class="process_gray text-center mx-3"><i class="bi bi-cart-check-fill fs-3"></i><div class="row row-cols-1 row-cols-lg-2"><div class="col px-0"><p class="mb-0">訂單</p></div><div class="col px-0"><p class="mb-0">完成</p></div></div></div></div>',1)]))),(0,e.Lk)("div",o,[(0,e.Lk)("div",n,[(0,e.Lk)("form",{class:"border m-1 m-lg-0 p-2 p-lg-3",onSubmit:l[0]||(l[0]=(0,c.D$)(((...s)=>W.payOrder&&W.payOrder(...s)),["prevent"]))},[l[13]||(l[13]=(0,e.Lk)("h2",{class:"text-center mt-3 mb-5"},"訂單資訊",-1)),(0,e.Lk)("table",p,[(0,e.Lk)("tbody",null,[(0,e.Lk)("tr",null,[l[4]||(l[4]=(0,e.Lk)("th",null,"訂單編號",-1)),(0,e.Lk)("td",null,(0,a.v_)(M.order.id),1)]),(0,e.Lk)("tr",null,[l[5]||(l[5]=(0,e.Lk)("th",null,"姓名",-1)),(0,e.Lk)("td",null,(0,a.v_)(M.order.user.name),1)]),(0,e.Lk)("tr",null,[l[6]||(l[6]=(0,e.Lk)("th",null,"手機號碼",-1)),(0,e.Lk)("td",null,(0,a.v_)(M.order.user.tel),1)]),(0,e.Lk)("tr",null,[l[7]||(l[7]=(0,e.Lk)("th",null,"Email",-1)),(0,e.Lk)("td",null,(0,a.v_)(M.order.user.email),1)]),(0,e.Lk)("tr",null,[l[8]||(l[8]=(0,e.Lk)("th",null,"地址",-1)),(0,e.Lk)("td",null,(0,a.v_)(M.order.user.address),1)]),(0,e.Lk)("tr",null,[l[9]||(l[9]=(0,e.Lk)("th",null,"留言",-1)),M.order.message?((0,e.uX)(),(0,e.CE)("td",v,(0,a.v_)(M.order.message),1)):((0,e.uX)(),(0,e.CE)("td",u,"無"))]),(0,e.Lk)("tr",null,[l[10]||(l[10]=(0,e.Lk)("th",null,"付款狀態",-1)),(0,e.Lk)("td",null,[M.order.is_paid?((0,e.uX)(),(0,e.CE)("span",h,"付款完成")):((0,e.uX)(),(0,e.CE)("span",k,"尚未付款"))])])])]),!1===M.order.is_paid?((0,e.uX)(),(0,e.CE)("div",b,[(0,e.Lk)("div",L,[(0,e.bF)(N,{to:"/",type:"button",class:"btnHover w-100 d-block",style:{"min-width":"0px"}},{default:(0,e.k6)((()=>l[11]||(l[11]=[(0,e.Lk)("div",null,[(0,e.Lk)("span",null,"延後付款"),(0,e.Lk)("span",null,"延後付款")],-1)]))),_:1})]),l[12]||(l[12]=(0,e.Lk)("div",{class:"col-8"},[(0,e.Lk)("button",{class:"btnHover btnHover5 w-100",type:"submit"},[(0,e.Lk)("div",null,[(0,e.Lk)("span",null,"立即付款"),(0,e.Lk)("span",null,"立即付款")])])],-1))])):(0,e.Q3)("",!0)],32)])]),(0,e.Lk)("div",x,[(0,e.Lk)("div",m,[(0,e.Lk)("div",g,[(0,e.Lk)("div",y,[l[17]||(l[17]=(0,e.Lk)("h2",{class:"accordion-header",id:"panelsStayOpen-headingOne"},[(0,e.Lk)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"}," 商品明細 ")],-1)),(0,e.Lk)("div",w,[(0,e.Lk)("div",_,[(0,e.Lk)("table",f,[l[16]||(l[16]=(0,e.Lk)("thead",null,[(0,e.Lk)("tr",{class:"text-center"},[(0,e.Lk)("th"),(0,e.Lk)("th",{class:"text-start"},"商品"),(0,e.Lk)("th",null,"數量"),(0,e.Lk)("th",null,"單價"),(0,e.Lk)("th",null,"總價")])],-1)),(0,e.Lk)("tbody",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(M.order.products,(s=>((0,e.uX)(),(0,e.CE)("tr",{key:s.id},[(0,e.Lk)("td",O,[(0,e.Lk)("div",C,[(0,e.Lk)("img",{src:s.product.imageUrl,alt:s.product.title,class:"w-100 h-100 object-fit-cover"},null,8,$)])]),(0,e.Lk)("td",E,[(0,e.Lk)("a",{class:"productName text-decoration-none text-dark",onClick:l=>W.getProductPage(s.product.id)},(0,a.v_)(s.product.title),9,X)]),(0,e.Lk)("td",S,(0,a.v_)(s.qty),1),(0,e.Lk)("td",j,"$"+(0,a.v_)(s.product.price),1),(0,e.Lk)("td",I,"$"+(0,a.v_)(s.total),1)])))),128))]),(0,e.Lk)("tfoot",null,[(0,e.Lk)("tr",null,[l[15]||(l[15]=(0,e.Lk)("td",null,null,-1)),(0,e.Lk)("td",P,[(0,e.Lk)("p",F,[l[14]||(l[14]=(0,e.eW)(" 總金額  ")),(0,e.Lk)("span",H," NT$ "+(0,a.v_)(s.$filters.currency(Math.round(M.order.total))),1)])])])])])])])])])])])])}t(4114);var M={data(){return{order:{user:{}},orderId:"",isLoading:!1,carts:[]}},methods:{getOrder(){const s=`https://vue3-course-api.hexschool.io/api/guantony-api/order/${this.orderId}`;this.$http.get(s).then((s=>{s.data.success&&(this.order=s.data.order)}))},payOrder(){const s=`https://vue3-course-api.hexschool.io/api/guantony-api/pay/${this.orderId}`;this.$http.post(s).then((s=>{s.data.success&&(this.getOrder(),this.scrollTop())})).catch((s=>{this.$httpMessageState(s,"連線錯誤")}))},getProductPage(s){this.$router.push(`/products/${s}`)},getCart(){const s="https://vue3-course-api.hexschool.io/api/guantony-api/cart";this.$http.get(s).then((s=>{this.cart=s.data.data,this.carts=s.data.data.carts})).catch((s=>{this.$httpMessageState(s,"連線錯誤")}))},scrollTop(){window.scrollTo({top:0,behavior:"smooth"})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},W=t(1241);const N=(0,W.A)(M,[["render",T]]);var q=N}}]);
//# sourceMappingURL=848.900cefb4.js.map