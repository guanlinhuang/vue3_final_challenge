{"version":3,"file":"js/54.73376a31.js","mappings":"oNACOA,MAAM,gB,GACJA,MAAM,yB,GAMFA,MAAM,Y,GAEJA,MAAM,qB,GAcNA,MAAM,qB,8IAvBnBC,EAAAA,EAAAA,IAuDM,MAvDNC,EAuDM,EAtDJC,EAAAA,EAAAA,IAoDM,MApDNC,EAoDM,EAnDJC,EAAAA,EAAAA,IAkDOC,EAAA,CAjDLN,MAAM,6BAELO,SAAQC,EAAAC,Q,CANjBC,SAAAC,EAAAA,EAAAA,KAQQ,EAHUC,YAAM,EAGhBT,EAAAA,EAAAA,IA4CM,MA5CNU,EA4CM,cA3CJV,EAAAA,EAAAA,IAAuC,MAAnCH,MAAM,oBAAmB,SAAK,KAClCG,EAAAA,EAAAA,IAaM,MAbNW,EAaM,cAZJX,EAAAA,EAAAA,IAA0D,SAAnDY,IAAI,QAAQf,MAAM,cAAa,WAAY,KAClDK,EAAAA,EAAAA,IASSW,EAAA,CARPC,GAAG,QACHC,KAAK,QACLC,KAAK,QACLnB,OAhBdoB,EAAAA,EAAAA,IAAA,CAgBoB,eAAc,cACIR,EAAO,YAC/BS,YAAY,YACZC,MAAM,iBAnBpBC,WAoBuBC,EAAAC,KAAKC,SApB5B,sBAAAC,EAAA,KAAAA,EAAA,GAAAC,GAoBuBJ,EAAAC,KAAKC,SAAQE,I,gCAExBvB,EAAAA,EAAAA,IAAmEwB,EAAA,CAArDX,KAAK,QAAQlB,MAAM,wBAEnCG,EAAAA,EAAAA,IAgBM,MAhBN2B,EAgBM,cAfJ3B,EAAAA,EAAAA,IAAgE,SAAzDY,IAAI,WAAWf,MAAM,cAAa,cAAe,KACxDK,EAAAA,EAAAA,IASSW,EAAA,CARPC,GAAG,WACHC,KAAK,WACLC,KAAK,WACLnB,OA9BdoB,EAAAA,EAAAA,IAAA,CA8BoB,eAAc,cACIR,EAAO,eAC/BS,YAAY,eACZC,MAAM,WAjCpBC,WAkCuBC,EAAAC,KAAKM,SAlC5B,sBAAAJ,EAAA,KAAAA,EAAA,GAAAC,GAkCuBJ,EAAAC,KAAKM,SAAQH,I,gCAExBvB,EAAAA,EAAAA,IAGgBwB,EAAA,CAFdX,KAAK,WACLlB,MAAM,uB,aAGVG,EAAAA,EAAAA,IAUM,OAVDH,MAAM,oBAAkB,EAC3BG,EAAAA,EAAAA,IAQS,UAPPH,MAAM,0CACNmB,KAAK,U,EAELhB,EAAAA,EAAAA,IAGM,aAFJA,EAAAA,EAAAA,IAAgB,YAAV,QACNA,EAAAA,EAAAA,IAAe,YAAT,YAAE,SAhDxB6B,EAAA,G,mBAuDI3B,EAAAA,EAAAA,IAAiB4B,I,iCAOrB,GACEC,IAAAA,GACE,MAAO,CACLT,KAAM,CACJC,SAAU,GACVK,SAAU,IAGhB,EACAI,WAAY,CACVC,cAAaA,EAAAA,GAEfC,OAAAA,GACE,MAAO,CACLC,QAAOA,EAAAA,EAEX,EACAC,QAAS,CACP9B,MAAAA,GACE,MAAM+B,EAAM,oDACZC,KAAKC,MACFC,KAAKH,EAAKC,KAAKhB,MACfmB,MAAMC,IACL,GAAIA,EAAIX,KAAKY,QAAS,CACpB,MAAM,MAAEC,EAAK,QAAEC,GAAYH,EAAIX,KAC/Be,SAASC,OAAS,YAAYH,aAAiB,IAAII,KAAKH,KACxDP,KAAKC,MAAMU,SAASC,QAAQC,OAAOC,cAAgBR,EACnDN,KAAKe,kBAAkBX,EAAK,MAC5BJ,KAAKgB,QAAQC,KAAK,uBAClBT,SAASU,KAAKC,MAAMC,SAAW,GAC/BZ,SAASU,KAAKC,MAAME,SAAW,EACjC,MACErB,KAAKe,kBAAkBX,EAAK,KAC9B,IAEDkB,OAAOC,IACNvB,KAAKe,kBAAkBQ,EAAO,OAAO,GAE3C,I,UC/FJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://vue3_final_challenge/./src/views/backstage/BackstageLogin.vue","webpack://vue3_final_challenge/./src/views/backstage/BackstageLogin.vue?d0cf"],"sourcesContent":["<template>\n  <div class=\"backstage_bg\">\n    <div class=\"container pt-5 vh-100\">\n      <Form\n        class=\"row justify-content-center\"\n        v-slot=\"{ errors }\"\n        @submit=\"signIn\"\n      >\n        <div class=\"col-md-4\">\n          <h1 class=\"text-center my-5\">管理員後台</h1>\n          <div class=\"mb-3 mx-4 mx-sm-0\">\n            <label for=\"email\" class=\"form-label\">Email:&ensp;</label>\n            <Field\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              class=\"form-control\"\n              :class=\"{ 'is-invalid': errors['email'] }\"\n              placeholder=\"請輸入 Email\"\n              rules=\"email|required\"\n              v-model=\"user.username\"\n            ></Field>\n            <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3 mx-4 mx-sm-0\">\n            <label for=\"password\" class=\"form-label\">Password:&ensp;</label>\n            <Field\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              class=\"form-control\"\n              :class=\"{ 'is-invalid': errors['password'] }\"\n              placeholder=\"請輸入 Password\"\n              rules=\"required\"\n              v-model=\"user.password\"\n            ></Field>\n            <ErrorMessage\n              name=\"password\"\n              class=\"invalid-feedback\"\n            ></ErrorMessage>\n          </div>\n          <div class=\"text-center mt-4\">\n            <button\n              class=\"btnHover btnHover6 btn btn-outline-dark\"\n              type=\"submit\"\n            >\n              <div>\n                <span>登入 </span>\n                <span>登入</span>\n              </div>\n            </button>\n          </div>\n        </div>\n      </Form>\n    </div>\n    <ToastMessages />\n  </div>\n</template>\n\n<script>\nimport emitter from \"@/methods/emitter\";\nimport ToastMessages from \"@/components/ToastMessages.vue\";\nexport default {\n  data() {\n    return {\n      user: {\n        username: \"\",\n        password: \"\",\n      },\n    };\n  },\n  components: {\n    ToastMessages,\n  },\n  provide() {\n    return {\n      emitter,\n    };\n  },\n  methods: {\n    signIn() {\n      const api = `${process.env.VUE_APP_API}admin/signin`;\n      this.$http\n        .post(api, this.user)\n        .then((res) => {\n          if (res.data.success) {\n            const { token, expired } = res.data;\n            document.cookie = `hexToken=${token};expires=${new Date(expired)}`;\n            this.$http.defaults.headers.common.Authorization = token;\n            this.$httpMessageState(res, \"登入\");\n            this.$router.push(\"/dashboard/products\");\n            document.body.style.overflow = \"\";\n            document.body.style.position = \"\";\n          } else {\n            this.$httpMessageState(res, \"登入\");\n          }\n        })\n        .catch((error) => {\n          this.$httpMessageState(error, \"連線錯誤\");\n        });\n    },\n  },\n};\n</script>\n","import { render } from \"./BackstageLogin.vue?vue&type=template&id=77a298c7\"\nimport script from \"./BackstageLogin.vue?vue&type=script&lang=js\"\nexport * from \"./BackstageLogin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_Form","onSubmit","$options","signIn","default","_withCtx","errors","_hoisted_3","_hoisted_4","for","_component_Field","id","name","type","_normalizeClass","placeholder","rules","modelValue","$data","user","username","_cache","$event","_component_ErrorMessage","_hoisted_5","password","_","_component_ToastMessages","data","components","ToastMessages","provide","emitter","methods","api","this","$http","post","then","res","success","token","expired","document","cookie","Date","defaults","headers","common","Authorization","$httpMessageState","$router","push","body","style","overflow","position","catch","error","__exports__","render"],"sourceRoot":""}